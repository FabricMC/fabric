version = getSubprojectVersion(project)

moduleDependencies(project, [
	'fabric-api-base',
	'fabric-convention-tags-v1',
	'fabric-lifecycle-events-v1'
])

testDependencies(project, [
	':fabric-content-registries-v0',
	':fabric-data-generation-api-v1'
])

loom {
	runs {
		datagen {
			inherit testmodServer
			name "Data Generation"
			vmArg "-Dfabric-api.datagen"
			vmArg "-Dfabric-api.datagen.output-dir=${file("src/testmod/generated")}"
			vmArg "-Dfabric-api.datagen.strict-validation"

			ideConfigGenerated = true
			runDir "build/datagen"
		}
	}
}
